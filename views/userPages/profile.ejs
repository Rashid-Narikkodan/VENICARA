<%- include('../partials/user/header.ejs') %>
<%- include('../partials/user/sidebarProfile.ejs') %>

<main class="w-100 d-flex justify-content-center py-1">
  <div class="container">
    <div class="profile-card rounded-5 shadow p-4 p-md-5 bg-white">
      
      <!-- Header -->
      <div class="text-center mb-5">
        <p class="fs-2 fw-bold mb-1">Profile</p>
        <small class="text-muted">Manage your personal information</small>
      </div>

      <!-- Profile Image -->
      <div class="row justify-content-center mb-4">
        <div class="col-auto">
          <div class="position-relative">
            <div class="profile-img rounded-circle overflow-hidden d-flex align-items-center justify-content-center"
                 style="width:100px; height:100px; cursor:pointer;background: rgb(202, 202, 202);">
              <% if (user.photoUrl) { %>
                <img src="<%= user.photoUrl%>" alt="Profile" loading="lazy"
                     class="w-100 h-100 rounded-circle" style="object-fit: cover;">
              <% } else { %>
                <span class="text-white fs-1 fw-bold"><%= user.name.charAt(0) %></span>
              <% } %>
            </div>
          </div>
        </div>
      </div>

      <!-- Profile Details -->
      <div class="row justify-content-center">
        <div class="col-12 col-sm-10 col-md-8">
          <div class="mb-3 row align-items-center">
            <label class="col-4 col-sm-3 fw-bold">Name:</label>
            <div class="col-8 col-sm-9 rounded-3 px-3 py-2 bg-light fw-semibold"><%= user.name %></div>
          </div>
          <div class="mb-3 row align-items-center">
            <label class="col-4 col-sm-3 fw-bold">Email:</label>
            <div class="col-8 col-sm-9 rounded-3 px-3 py-2 bg-light fw-semibold"><%= user.email %></div>
          </div>
          <div class="mb-3 row align-items-center">
            <label class="col-4 col-sm-3 fw-bold">Phone:</label>
            <div class="col-8 col-sm-9 rounded-3 px-3 py-2 bg-light fw-semibold"><%= user.mobile || 'Not updated' %></div>
          </div>
          <div class="mb-3 row align-items-center">
            <label class="col-4 col-sm-3 fw-bold">Gender:</label>
            <div class="col-8 col-sm-9 rounded-3 px-3 py-2 bg-light fw-semibold"><%= user.gender || 'Not specified' %></div>
          </div>
        </div>
      </div>

      <!-- Edit Button -->
      <div class="row justify-content-center mt-4">
        <div class="col-auto">
          <a href="/profile/edit" class="btn btn-dark px-4 py-2">Edit Profile</a>
        </div>
      </div>

    </div>
  </div>
</main>
</div>

<style>
  .profile-card {
    max-width: 700px;
  }

  .profile-img img {
    transition: transform 0.3s;
  }

  .profile-img:hover img {
    transform: scale(1.05);
  }

  label {
    font-size: 1rem;
  }

  .fw-semibold {
    font-weight: 500;
  }

  @media (max-width: 576px) {
    .profile-card {
      padding: 2rem 1.5rem !important;
    }
    .fs-2 {
      font-size: 1.5rem !important;
    }
    .profile-img {
      width: 80px !important;
      height: 80px !important;
    }
    label {
      font-size: 0.9rem;
    }
    .fw-semibold {
      font-size: 0.9rem;
    }
  }
</style>

<script src="/js/userHeader.js"></script>
<%- include('../partials/user/footer.ejs') %>
