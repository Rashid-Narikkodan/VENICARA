<%- include('../partials/user/header.ejs') %>
<%- include('../partials/user/sidebarProfile.ejs') %>

<main class="flex-grow-1 bg-light w-100 d-flex justify-content-center">
  <div class="container py-5" style="max-width: 800px;">
    <div class="card shadow-lg border-0 rounded-4 p-4">
      <h4 class="fw-bold text-center mb-4">Edit Address</h4>

<form action="/address/edit/<%= address._id %>?_method=PUT" method="POST">
  <div class="row g-3">
    <!-- Name -->
    <div class="col-md-6">
      <label for="fullName" class="form-label fw-semibold">Name</label>
      <input type="text" class="form-control rounded-3" id="fullName" name="fullName" 
             placeholder="Enter your name" value="<%= address.fullName %>" required>
    </div>

    <!-- Mobile -->
    <div class="col-md-6">
      <label for="mobile" class="form-label fw-semibold">Mobile Number</label>
      <input type="tel" pattern="[0-9]{10}" class="form-control rounded-3" id="mobile" name="mobile" 
             placeholder="Enter your mobile number" value="<%= address.mobile %>" required>
    </div>

    <!-- Pincode -->
    <div class="col-md-6">
      <label for="pin" class="form-label fw-semibold">Pincode</label>
      <input type="text" class="form-control rounded-3" id="pin" name="pin" 
             placeholder="Enter your pincode" value="<%= address.pin %>" required>
    </div>

    <!-- Locality -->
    <div class="col-md-6">
      <label for="street" class="form-label fw-semibold">Locality</label>
      <input type="text" class="form-control rounded-3" id="street" name="street" 
             placeholder="Enter your locality" value="<%= address.street %>">
    </div>

    <!-- Address -->
    <div class="col-12">
      <label for="address" class="form-label fw-semibold">Address</label>
      <textarea class="form-control rounded-3" id="address" name="address" rows="2" 
                placeholder="Address (area, city)" required><%= address.address %></textarea>
    </div>

    <!-- City -->
    <div class="col-md-6">
      <label for="city" class="form-label fw-semibold">City/District/Town</label>
      <input type="text" class="form-control rounded-3" id="city" name="city" 
             placeholder="Enter city/district/town" value="<%= address.city %>" required>
    </div>

    <!-- State -->
    <div class="col-md-6">
      <label for="state" class="form-label fw-semibold">State</label>
      <select class="form-select rounded-3" id="state" name="state" required>
        <option value="" disabled>--- select state ---</option>
        <option value="Kerala" <%= address.state === "Kerala" ? "selected" : "" %>>Kerala</option>
        <option value="Tamil Nadu" <%= address.state === "Tamil Nadu" ? "selected" : "" %>>Tamil Nadu</option>
        <option value="Karnataka" <%= address.state === "Karnataka" ? "selected" : "" %>>Karnataka</option>
        <option value="Maharashtra" <%= address.state === "Maharashtra" ? "selected" : "" %>>Maharashtra</option>
        <option value="Delhi" <%= address.state === "Delhi" ? "selected" : "" %>>Delhi</option>
      </select>
    </div>

    <!-- Landmark -->
    <div class="col-md-6">
      <label for="landmark" class="form-label fw-semibold">Landmark</label>
      <input type="text" class="form-control rounded-3" id="landmark" name="landmark" 
             placeholder="Enter landmark (optional)" value="<%= address.landmark %>">
    </div>

    <!-- Alternate Mobile -->
    <div class="col-md-6">
      <label for="alternateMobile" class="form-label fw-semibold">Alternate Mobile Number</label>
      <input type="tel" pattern="[0-9]{10}" class="form-control rounded-3" id="alternateMobile" name="alternateMobile" 
             placeholder="Alternate number (optional)" value="<%= address.alternateMobile %>">
    </div>

    <!-- Address Type -->
    <div class="col-12">
      <label class="form-label fw-semibold d-block">Type</label>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="type" id="home" value="home" 
               <%= address.type === "home" ? "checked" : "" %>>
        <label class="form-check-label" for="home">Home</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="type" id="work" value="work" 
               <%= address.type === "work" ? "checked" : "" %>>
        <label class="form-check-label" for="work">Work</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="type" id="other" value="other" 
               <%= address.type === "other" ? "checked" : "" %>>
        <label class="form-check-label" for="other">Other</label>
      </div>
    </div>
  </div>

  <!-- Buttons -->
  <div class="d-flex justify-content-end gap-2 mt-4">
    <button type="submit" class="btn btn-dark px-4">Save</button>
    <a href="/address" class="btn btn-outline-secondary px-4">Cancel</a>
  </div>
</form>

    </div>
  </div>
</main>

<script src="/js/userHeader.js"></script>
</body>
</html>
